"use strict";(self["webpackChunkhm_shopping"]=self["webpackChunkhm_shopping"]||[]).push([[252],{3136:function(t,e,n){n.d(e,{A:function(){return o}});var r=function(){var t=this,e=t._self._c;return e("van-search",{directives:[{name:"focus",rawName:"v-focus"}],attrs:{"show-action":"",placeholder:t.placeholder,value:t.value},on:{input:t.handleInput},scopedSlots:t._u([{key:"action",fn:function(){return[e("div",{on:{click:function(e){return t.btnFun(...t.btnFunParams)}}},[t._v("搜索")])]},proxy:!0}])})},a=[],s={name:"BtnSearchInput",data(){return{}},props:{value:{type:String,required:!0},btnFun:{type:Function,required:!0},placeholder:{type:String,default:"请在此输入搜索关键词"},btnFunParams:{type:Array,default:()=>[]}},methods:{handleInput(t){this.$emit("input",t)}}},i=s,u=n(1656),c=(0,u.A)(i,r,a,!1,null,"288b1bce",null),o=c.exports},1252:function(t,e,n){n.r(e),n.d(e,{default:function(){return l}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"search"},[e("van-nav-bar",{attrs:{title:"商品搜索","left-arrow":""},on:{"click-left":function(e){return t.$router.go(-1)}}}),e("BtnSearchInput",{attrs:{"btn-fun":t.goSearch,"btn-fun-params":[t.searchInput]},model:{value:t.searchInput,callback:function(e){t.searchInput=e},expression:"searchInput"}}),e("div",{staticClass:"search-history"},[e("div",{staticClass:"title"},[e("span",[t._v("最近搜索")]),e("van-icon",{attrs:{name:"delete-o",size:"16"},on:{click:t.clearHistory}})],1),e("div",{staticClass:"list"},t._l(t.history,(function(n){return e("div",{key:n,staticClass:"list-item",on:{click:function(e){return t.goSearch(n)}}},[t._v(t._s(n))])})),0)])],1)},a=[],s=(n(4114),n(3136)),i={name:"Search",components:{BtnSearchInput:s.A},data(){return{searchInput:"",history:this.$store.getters.globalHistory}},methods:{goSearch(t){if(!t.trim())return this.$toast("输入不得为空");this.$router.push(`/searchList?search=${t}`)},clearHistory(){this.$store.commit("user/REMOVE_HISTORY")}}},u=i,c=n(1656),o=(0,c.A)(u,r,a,!1,null,"9e842f70",null),l=o.exports}}]);
//# sourceMappingURL=252.bd785cc3.js.map