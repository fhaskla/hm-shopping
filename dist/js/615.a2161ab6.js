"use strict";(self["webpackChunkhm_shopping"]=self["webpackChunkhm_shopping"]||[]).push([[615],{6615:function(t,i,e){e.r(i),e.d(i,{default:function(){return h}});var s=function(){var t=this,i=t._self._c;return i("div",{staticClass:"addressEdit"},[i("van-nav-bar",{attrs:{placeholder:"",fixed:"",title:"编辑收货地址","left-arrow":""},on:{"click-left":function(i){return t.$router.go(-1)}}}),i("div",{staticClass:"edit",staticStyle:{height:"calc(100vh - 46px)"}},[i("div",{staticClass:"title",staticStyle:{padding:"12px 12px 0 12px"}},[t._v(" 收货地址 ")]),i("van-address-edit",{attrs:{"address-info":t.addressInfo,"area-list":t.areaList},on:{save:t.onSave}})],1)],1)},a=[],r=(e(8992),e(2577),e(3949),e(2776)),d=e(3518),n={name:"AddressEdit",async created(){const t=await(0,r.$F)();this.originAreaList=t.data.list,await this.getAddressList()},data(){return{addressId:+this.$route.query.addressId,originAreaList:null,idMapping:{province:{},city:{},region:{}}}},computed:{province(){return this.idMapping.province},city(){return this.idMapping.city},region(){return this.idMapping.region},...(0,d.aH)("address",["addressList"]),areaList(){if(!this.originAreaList)return{};const t={province_list:{},city_list:{},county_list:{}},i={province:{},city:{},region:{}};let e=1;const s=this.originAreaList;return Object.values(s).forEach((s=>{const a=String(e).padStart(2,"0"),r=a+"0000";if(t.province_list[r]=s.name,i.province[s.id]=r,s.city){let e=1;Object.values(s.city).forEach((s=>{const r=String(e).padStart(2,"0"),d=a+r+"00";if(t.city_list[d]=s.name,i.city[s.id]=d,s.region){let e=1;Object.values(s.region).forEach((s=>{const d=String(e).padStart(2,"0"),n=a+r+d;t.county_list[n]=s.name,i.region[s.id]=n,e++}))}e++}))}e++})),this.idMapping=i,t},addressInfo(){if(!this.addressList.length)return{};const t=this.addressList.find((t=>t.address_id===this.addressId));return t?{id:t.address_id,name:t.name,tel:t.phone,areaCode:this.region[t.region_id],addressDetail:t.detail}:{}}},methods:{...(0,d.i0)("address",["getAddressList","editAddress"]),async onSave(t){await this.editAddress({addressId:this.addressId,name:t.name,phone:t.tel,regions:[{label:t.province,value:Object.keys(this.province).find((i=>this.province[i].startsWith(t.areaCode.slice(0,2))))},{label:t.city,value:Object.keys(this.city).find((i=>this.city[i].startsWith(t.areaCode.slice(0,4))))},{label:t.county,value:Object.keys(this.region).find((i=>this.region[i]===t.areaCode))}],detail:t.addressDetail}),this.$router.go(-1)}}},o=n,c=e(1656),l=(0,c.A)(o,s,a,!1,null,"2f6c4adf",null),h=l.exports}}]);
//# sourceMappingURL=615.a2161ab6.js.map